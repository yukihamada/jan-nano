# EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å‰Šé™¤è¨˜éŒ²

## ğŸ—‘ï¸ å‰Šé™¤å®Œäº†

**å‰Šé™¤æ—¥æ™‚**: 2025-06-24 17:10 JST

**å‰Šé™¤ã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹:**
- âœ… EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹: `i-03a06cfa84872d84b` (18.182.60.148)
- âœ… ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰é™¤å»æ¸ˆã¿
- âœ… API ã‚µãƒ¼ãƒ“ã‚¹åœæ­¢ç¢ºèªæ¸ˆã¿

## ğŸ” å‰Šé™¤ç¢ºèª

### ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹çŠ¶æ…‹
```
InstanceId: i-03a06cfa84872d84b
State: terminated
```

### API ã‚¢ã‚¯ã‚»ã‚¹çŠ¶æ³
- `https://jan-api.teai.io/` â†’ 503 Service Temporarily Unavailable âœ…
- Load Balancer ã¯ç¨¼åƒä¸­ã ãŒã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãªã—

## ğŸ’° ã‚³ã‚¹ãƒˆå‰Šæ¸›åŠ¹æœ

**å‰Šé™¤å‰ã®æœˆé¡è²»ç”¨:**
- EC2 t3.medium Ã— 1å°: ~$32/æœˆ
- Application Load Balancer: ~$23/æœˆ
- Route 53: $0.50/æœˆ
- **åˆè¨ˆ: ~$55-60/æœˆ**

**å‰Šé™¤å¾Œã®æœˆé¡è²»ç”¨:**
- EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹: $0/æœˆ âœ…
- Application Load Balancer: ~$23/æœˆ (ç¶­æŒ)
- Route 53: $0.50/æœˆ (ç¶­æŒ)
- **åˆè¨ˆ: ~$23-25/æœˆ**

**ç¯€ç´„åŠ¹æœ: ç´„$30-35/æœˆ (ç´„60%å‰Šæ¸›)**

## ğŸ—ï¸ æ®‹å­˜ã‚¤ãƒ³ãƒ•ãƒ©

ä»¥ä¸‹ã®ãƒªã‚½ãƒ¼ã‚¹ã¯ç¶­æŒã•ã‚Œã¦ã„ã¾ã™:
- âœ… Application Load Balancer
- âœ… Target Group (ç©º)
- âœ… SSLè¨¼æ˜æ›¸ (*.teai.io)
- âœ… Route 53 DNSè¨­å®š
- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ—

## ğŸ”„ å†èµ·å‹•æ–¹æ³•

å¿…è¦ã«å¿œã˜ã¦ä»¥ä¸‹ã§å†èµ·å‹•å¯èƒ½:
```bash
# æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
aws ec2 run-instances \
  --image-id ami-0d52744d6551d851e \
  --count 1 \
  --instance-type t3.medium \
  --security-group-ids sg-0afbbd8ad1ee54b97 \
  --key-name openhands-key \
  --user-data file://startup.sh

# ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚°ãƒ«ãƒ¼ãƒ—ã«ç™»éŒ²
aws elbv2 register-targets \
  --target-group-arn arn:aws:elasticloadbalancing:ap-northeast-1:495350830663:targetgroup/jan-nano-targets-v2/c2fe36bb8c5fcfb6 \
  --targets Id=NEW_INSTANCE_ID
```

## ğŸ“Š ç¾åœ¨ã®çŠ¶æ³

- **API ã‚µãƒ¼ãƒ“ã‚¹**: âŒ åœæ­¢ä¸­
- **ã‚¤ãƒ³ãƒ•ãƒ©**: âœ… ç¶­æŒä¸­
- **ãƒ‰ãƒ¡ã‚¤ãƒ³**: âœ… è§£æ±ºå¯èƒ½
- **SSLè¨¼æ˜æ›¸**: âœ… æœ‰åŠ¹